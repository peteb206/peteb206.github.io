<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>PJB Sports Data - Pete Berryman</title>
<meta name="description" content="A data engineering project to pull sports data from a variety of sources into a data warehouse for efficient querying and analysis.">


  <meta name="author" content="Pete Berryman">
  
  <meta property="article:author" content="Pete Berryman">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Pete Berryman">
<meta property="og:title" content="PJB Sports Data">
<meta property="og:url" content="http://localhost:4000/projects/pjb-sports-data/">


  <meta property="og:description" content="A data engineering project to pull sports data from a variety of sources into a data warehouse for efficient querying and analysis.">



  <meta property="og:image" content="http://localhost:4000/assets/images/BigQuery.png">





  <meta property="article:published_time" content="2023-11-10T17:37:43-06:00">






<link rel="canonical" href="http://localhost:4000/projects/pjb-sports-data/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Pete Berryman Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/images/favicon/site.webmanifest">
<link rel="mask-icon" href="/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="/assets/images/favicon/favicon.ico">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/images/favicon/browserconfig.xml">
<meta name="theme-color" content="#ffffff">

<!-- Font Awesome Icons -->
<script src="https://kit.fontawesome.com/ad55694c33.js" crossorigin="anonymous"></script>

<script>
    document.addEventListener("DOMContentLoaded", function(event) {
        var links = document.getElementsByTagName("a");
        for (var i = 0; i < links.length; i++) {
            var thisLink = links[i];
            if (thisLink.getAttribute("href").startsWith("http")) {
                thisLink.setAttribute("target", "_blank");
            }
        }
    });
</script>

<!-- Custom CSS -->
<style>
    /* Footer */
    /*
    .page__footer .social-icons .fa-github { color: white; }
    .page__footer .social-icons .fa-linkedin { color: white; }
    .page__footer .social-icons .fa-twitter { color: white; }
    */

    /* Masthead */
    div.masthead__inner-wrap {
        padding-top: 0.5em;
        padding-bottom: 0.5em;
    }
    .site-logo img { max-height: 3rem }

    /* External Links Label */
    span.external-link-label {
        padding-left: 5px;
    }

    /* Project Title Image */
    img.project-title-image {
        display: block;
        margin-left: auto;
        margin-right: auto;
        max-width: 300px;
    }

    /* Posts */
    table.post { overflow-x: visible; }
    table.post td {
        border-bottom: none;
        padding: 0%;
    }
    table.post h2 {
        padding-bottom: 3px;
        font-size: 1.75em;
        text-decoration: underline;
    }
    table.post p.page__meta { font-size: 0.8em !important; }
    table.post p.archive__item-excerpt {
        font-size: 1em;
        margin-bottom: 4px;
    }

    /* Tags */
    span.item-tag {
        display: inline-block;
        /* color: white; */
        background-color: #e9dcbe;
        border-radius: 5px;
        padding: 3px;
        margin: 3px;
        font-size: 0.9em;
        font-weight: bold;
    }
</style>
<!-- end custom head snippets -->
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/favicon/android-chrome-512x512.png" alt=" "></a>
        
        <a class="site-title" href="/">
           
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">Home</a>
            </li><li class="masthead__menu-item">
              <a href="/projects/">Projects & Apps</a>
            </li><li class="masthead__menu-item">
              <a href="/posts/">Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/projects" itemprop="item"><span itemprop="name">Projects</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">PJB Sports Data</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/Profile%20Picture.jpeg" alt="Pete Berryman" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Pete Berryman</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>A sports guy</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Fort Worth, TX</span>
        </li>
      

      
        
          
            <li><a href="https://www.linkedin.com/in/peteberryman82" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://twitter.com/PeteBerryman" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://github.com/peteb206" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="PJB Sports Data">
    <meta itemprop="description" content="A data engineering project to pull sports data from a variety of sources into a data warehouse for efficient querying and analysis.">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">PJB Sports Data
</h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-bars-staggered"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#introduction">Introduction</a></li><li><a href="#central-data-warehouse">Central Data Warehouse</a></li><li><a href="#bigquery">BigQuery</a></li><li><a href="#current-data-sources">Current Data Sources</a></li><li><a href="#links">Links</a></li></ul>

            </nav>
          </aside>
        
        <p><img src="/assets/images/BigQuery.png" class="project-title-image" /></p>

<h2 id="introduction">Introduction</h2>
<p>Much of the MLB research I have done in recent years has involved loading Statcast data from <a href="https://baseballsavant.mlb.com/">Baseball Savant</a>. This publicly-available data provides an incredible opportunity to conduct in-depth studies of what we see happening on the diamond. However, I found that I was left with two options when working with this data:</p>
<ol>
  <li>Query all the statcast pitches from a given time range
    <ul>
      <li>Examples
        <ul>
          <li>Python: pybaseball’s <a href="https://github.com/jldbc/pybaseball/blob/master/docs/statcast.md">statcast function</a></li>
          <li>R: baseballr’s <a href="https://billpetti.github.io/baseballr/reference/statcast_search.html">statcast_search function</a></li>
        </ul>
      </li>
    </ul>

    <table>
      <thead>
        <tr>
          <th>Pros</th>
          <th>Cons</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Once this data is loaded, it is extremely detailed. There are many analysis options from here</td>
          <td>Slow: getting all the pitches from 5 days of games takes almost a minute</td>
        </tr>
        <tr>
          <td>Risks bogging down Baseball Savant’s servers</td>
          <td> </td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>Loading aggregated data</p>

    <table>
      <thead>
        <tr>
          <th>Pros</th>
          <th>Cons</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Faster</td>
          <td>It would only answer one question but new data would have to be queried to address other questions</td>
        </tr>
      </tbody>
    </table>
  </li>
</ol>

<p>In the end, the point of this project is to knock out a lot of the data engineering work that inevitably has to happen with most analytics projects. Hopefully, I will be able to</p>

<h2 id="central-data-warehouse">Central Data Warehouse</h2>
<p>With this in mind, I decided that I would build out my own sports data warehouse where I could…</p>
<ol>
  <li>Efficiently query data from tables</li>
  <li>Map tables before loading to memory</li>
  <li>Avoid bogging down external sources by querying daily/weekly/etc. to update my data warehouse</li>
  <li>Build scripts and dashboards to better understand data</li>
</ol>

<h2 id="bigquery">BigQuery</h2>
<p>I chose Google BigQuery as a data warehouse because…</p>
<ul>
  <li>10 GB free storage each month</li>
  <li>1 TB free queries each month</li>
  <li><a href="https://cloud.google.com/bigquery/docs/introduction-sql">SQL!</a></li>
  <li>Google Cloud is a valuable skill in the data engineering world</li>
  <li>Easy connection to Python, R, etc.</li>
  <li>Easy setup compared to Oracle, in my personal opinion.</li>
</ul>

<h2 id="current-data-sources">Current Data Sources</h2>
<ul>
  <li>MLB
    <ul>
      <li><a href="https://baseballsavant.mlb.com/statcast_search">Statcast</a> (via Baseball Savant)</li>
      <li><a href="https://www.fangraphs.com/roster-resource/injury-report">Injuries</a> (via Fangraphs)</li>
    </ul>
  </li>
</ul>

<h2 id="links">Links</h2>
<p>For more technical details of the project, visit the<br />
<a href="https://github.com/peteb206/pjb-sports-data"><i class="fab fa-fw fa-github"></i><span class="label">GitHub Repository</span></a></p>

        
      </section>

      <footer class="page__meta">
        
        


        


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/projects/fort-worth-mens-senior-baseball-league-website/" class="pagination--pager" title="Fort Worth Men’s Senior Baseball League Website
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://www.linkedin.com/in/peteberryman82" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://twitter.com/PeteBerryman" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/peteb206" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Pete Berryman. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
